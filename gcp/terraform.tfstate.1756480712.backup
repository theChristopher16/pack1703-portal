{"version":4,"terraform_version":"1.9.1","serial":15,"lineage":"23b45e6a-fe6c-ac1a-1a59-606dc20136ca","outputs":{"alert_policies":{"value":[null,null],"type":["tuple",["string","string"]]},"app_check_enabled":{"value":false,"type":"bool"},"config_files_needed":{"value":{"environment_variables":".env files for each environment","firebase_config":".firebaserc and firebase.json","function_code":"functions/src/ directory with TypeScript code","github_actions":".github/workflows/ for CI/CD","security_rules":"firestore.rules and storage.rules"},"type":["object",{"environment_variables":"string","firebase_config":"string","function_code":"string","github_actions":"string","security_rules":"string"}]},"deployment_info":{"value":{"next_steps":["Deploy Cloud Functions code","Configure Firebase Hosting","Set up Firestore security rules","Configure custom domains","Test end-to-end functionality"],"status":"Infrastructure deployed successfully","useful_commands":{"Deploy functions":"firebase deploy --only functions","Deploy hosting":"firebase deploy --only hosting","Deploy rules":"firebase deploy --only firestore:rules","Monitor costs":"gcloud billing budgets list","View logs":"gcloud functions logs read --limit=50"}},"type":["object",{"next_steps":["tuple",["string","string","string","string","string"]],"status":"string","useful_commands":["object",{"Deploy functions":"string","Deploy hosting":"string","Deploy rules":"string","Monitor costs":"string","View logs":"string"}]}]},"environment":{"value":"prod","type":"string"},"estimated_monthly_cost":{"value":{"cloud_functions":"0.40","cloud_storage":"0.02","currency":"USD","firebase_hosting":"0.00","firestore":"0.18","monitoring":"0.00","note":"Based on 2M function invocations, 50K reads, 10K writes, 1GB storage","total":"0.60"},"type":["object",{"cloud_functions":"string","cloud_storage":"string","currency":"string","firebase_hosting":"string","firestore":"string","monitoring":"string","note":"string","total":"string"}]},"firebase_config":{"value":{"apiKey":"AIzaSyD6QerA4QW2KKrBqgDJvFwhvAHc6WobKX0","appId":"1:1090892022787:web:c68c808d0448e75c557a36","authDomain":"pack-1703-portal.firebaseapp.com","measurementId":"","messagingSenderId":"1090892022787","projectId":"pack-1703-portal","storageBucket":"pack-1703-portal.firebasestorage.app"},"type":["object",{"apiKey":"string","appId":"string","authDomain":"string","measurementId":"string","messagingSenderId":"string","projectId":"string","storageBucket":"string"}],"sensitive":true},"firebase_hosting_sites":{"value":{"sfpack1703.com":{"custom_domain":"sfpack1703.com","default_url":"https://site-d12a01f8.web.app","site_id":"site-d12a01f8"}},"type":["object",{"sfpack1703.com":["object",{"custom_domain":"string","default_url":"string","site_id":"string"}]}]},"firebase_project_id":{"value":"pack-1703-portal","type":"string"},"firebase_web_app_id":{"value":"1:1090892022787:web:c68c808d0448e75c557a36","type":"string"},"firestore_database_id":{"value":"(default)","type":"string"},"firestore_location":{"value":"nam5","type":"string"},"function_names":{"value":["submitRSVP","getRSVPCounts","submitVolunteer","submitFeedback","createEvent","updateEvent","deleteEvent"],"type":["tuple",["string","string","string","string","string","string","string"]]},"function_service_accounts":{"value":{"functions":{"email":null,"name":null}},"type":["object",{"functions":["object",{"email":"string","name":"string"}]}],"sensitive":true},"function_urls":{"value":{"createEvent":"https://us-central1-pack-1703-portal.cloudfunctions.net/createEvent","deleteEvent":"https://us-central1-pack-1703-portal.cloudfunctions.net/deleteEvent","getRSVPCounts":"https://us-central1-pack-1703-portal.cloudfunctions.net/getRSVPCounts","submitFeedback":"https://us-central1-pack-1703-portal.cloudfunctions.net/submitFeedback","submitRSVP":"https://us-central1-pack-1703-portal.cloudfunctions.net/submitRSVP","submitVolunteer":"https://us-central1-pack-1703-portal.cloudfunctions.net/submitVolunteer","updateEvent":"https://us-central1-pack-1703-portal.cloudfunctions.net/updateEvent"},"type":["object",{"createEvent":"string","deleteEvent":"string","getRSVPCounts":"string","submitFeedback":"string","submitRSVP":"string","submitVolunteer":"string","updateEvent":"string"}]},"monitoring_dashboards":{"value":{"functions":"https://console.cloud.google.com/functions/list?project=pack-1703-portal","logs":"https://console.cloud.google.com/logs?project=pack-1703-portal","monitoring":"https://console.cloud.google.com/monitoring?project=pack-1703-portal"},"type":["object",{"functions":"string","logs":"string","monitoring":"string"}]},"notification_channels":{"value":[null],"type":["tuple",["string"]],"sensitive":true},"project_id":{"value":"pack-1703-portal","type":"string"},"project_name":{"value":"pack1703-rsvp","type":"string"},"pubsub_topics":{"value":[null,null],"type":["tuple",["string","string"]]},"region":{"value":"us-central1","type":"string"},"scheduler_jobs":{"value":[null,null],"type":["tuple",["string","string"]]},"secret_names":{"value":[],"type":["tuple",[]]},"security_summary":{"value":{"app_check_enabled":false,"audit_logging_enabled":true,"firestore_rules_deployed":true,"monitoring_enabled":true,"secrets_managed":false},"type":["object",{"app_check_enabled":"bool","audit_logging_enabled":"bool","firestore_rules_deployed":"bool","monitoring_enabled":"bool","secrets_managed":"bool"}],"sensitive":true},"service_urls":{"value":{"firebase_console":"https://console.firebase.google.com/project/pack-1703-portal","firestore_console":"https://console.firebase.google.com/project/pack-1703-portal/firestore","functions_console":"https://console.cloud.google.com/functions/list?project=pack-1703-portal","gcp_console":"https://console.cloud.google.com/home/dashboard?project=pack-1703-portal","monitoring_console":"https://console.cloud.google.com/monitoring?project=pack-1703-portal","storage_console":"https://console.cloud.google.com/storage/browser?project=pack-1703-portal"},"type":["object",{"firebase_console":"string","firestore_console":"string","functions_console":"string","gcp_console":"string","monitoring_console":"string","storage_console":"string"}]},"storage_bucket_urls":{"value":{"backups":"gs://pack1703-rsvp-prod-backups","uploads":"gs://pack1703-rsvp-prod-uploads"},"type":["object",{"backups":"string","uploads":"string"}]},"storage_buckets":{"value":{"backups":{"name":"pack1703-rsvp-prod-backups","url":"gs://pack1703-rsvp-prod-backups"},"uploads":{"name":"pack1703-rsvp-prod-uploads","url":"gs://pack1703-rsvp-prod-uploads"}},"type":["object",{"backups":["object",{"name":"string","url":"string"}],"uploads":["object",{"name":"string","url":"string"}]}]}},"resources":[{"mode":"managed","type":"google_project_service","name":"required_apis","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"index_key":"cloudfunctions.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/cloudfunctions.googleapis.com","project":"pack-1703-portal","service":"cloudfunctions.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"cloudscheduler.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/cloudscheduler.googleapis.com","project":"pack-1703-portal","service":"cloudscheduler.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"firebase.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/firebase.googleapis.com","project":"pack-1703-portal","service":"firebase.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"firestore.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/firestore.googleapis.com","project":"pack-1703-portal","service":"firestore.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"identitytoolkit.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/identitytoolkit.googleapis.com","project":"pack-1703-portal","service":"identitytoolkit.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"logging.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/logging.googleapis.com","project":"pack-1703-portal","service":"logging.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"monitoring.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/monitoring.googleapis.com","project":"pack-1703-portal","service":"monitoring.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"pubsub.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/pubsub.googleapis.com","project":"pack-1703-portal","service":"pubsub.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"secretmanager.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/secretmanager.googleapis.com","project":"pack-1703-portal","service":"secretmanager.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"storage.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"pack-1703-portal/storage.googleapis.com","project":"pack-1703-portal","service":"storage.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="}]},{"module":"module.firebase","mode":"data","type":"google_firebase_web_app_config","name":"sfpack1703","provider":"provider[\"registry.opentofu.org/hashicorp/google-beta\"]","instances":[{"schema_version":0,"attributes":{"api_key":"AIzaSyD6QerA4QW2KKrBqgDJvFwhvAHc6WobKX0","auth_domain":"pack-1703-portal.firebaseapp.com","database_url":"","id":"1:1090892022787:web:c68c808d0448e75c557a36","location_id":"","measurement_id":"","messaging_sender_id":"1090892022787","project":"pack-1703-portal","storage_bucket":"pack-1703-portal.firebasestorage.app","web_app_id":"1:1090892022787:web:c68c808d0448e75c557a36"},"sensitive_attributes":[]}]},{"module":"module.firebase","mode":"managed","type":"google_firebase_hosting_site","name":"sites","provider":"provider[\"registry.opentofu.org/hashicorp/google-beta\"]","instances":[{"index_key":"sfpack1703.com","schema_version":0,"attributes":{"app_id":"1:1090892022787:web:c68c808d0448e75c557a36","default_url":"https://site-d12a01f8.web.app","id":"projects/pack-1703-portal/sites/site-d12a01f8","name":"projects/pack-1703-portal/sites/site-d12a01f8","project":"pack-1703-portal","site_id":"site-d12a01f8","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["google_project_service.required_apis","module.firebase.google_firebase_project.default","module.firebase.google_firebase_web_app.sfpack1703","module.firebase.random_id.site_suffix"]}]},{"module":"module.firebase","mode":"managed","type":"google_firebase_project","name":"default","provider":"provider[\"registry.opentofu.org/hashicorp/google-beta\"]","instances":[{"schema_version":0,"attributes":{"display_name":"pack-1703-portal","id":"projects/pack-1703-portal","project":"pack-1703-portal","project_number":"1090892022787","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==","dependencies":["google_project_service.required_apis"]}]},{"module":"module.firebase","mode":"managed","type":"google_firebase_web_app","name":"sfpack1703","provider":"provider[\"registry.opentofu.org/hashicorp/google-beta\"]","instances":[{"schema_version":0,"attributes":{"api_key_id":"97c8a22a-cb90-4f58-ad3f-fb8cae60ea47","app_id":"1:1090892022787:web:c68c808d0448e75c557a36","app_urls":[],"deletion_policy":"ABANDON","display_name":"pack1703-rsvp-prod","id":"projects/pack-1703-portal/webApps/1:1090892022787:web:c68c808d0448e75c557a36","name":"projects/pack-1703-portal/webApps/1:1090892022787:web:c68c808d0448e75c557a36","project":"pack-1703-portal","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["google_project_service.required_apis","module.firebase.google_firebase_project.default"]}]},{"module":"module.firebase","mode":"managed","type":"random_id","name":"site_suffix","provider":"provider[\"registry.opentofu.org/hashicorp/random\"]","instances":[{"index_key":"sfpack1703.com","schema_version":0,"attributes":{"b64_std":"0SoB+A==","b64_url":"0SoB-A","byte_length":4,"dec":"3509191160","hex":"d12a01f8","id":"0SoB-A","keepers":null,"prefix":null},"sensitive_attributes":[],"dependencies":["google_project_service.required_apis"]}]},{"module":"module.firestore","mode":"managed","type":"google_firestore_backup_schedule","name":"daily_backup","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"daily_recurrence":[{}],"database":"(default)","id":"projects/pack-1703-portal/databases/(default)/backupSchedules/7ba8f856-207e-48d9-a52e-9d31f3c4acb2","name":"7ba8f856-207e-48d9-a52e-9d31f3c4acb2","project":"pack-1703-portal","retention":"604800s","timeouts":null,"weekly_recurrence":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["google_project_service.required_apis","module.firestore.google_firestore_database.database"]}]},{"module":"module.firestore","mode":"managed","type":"google_firestore_database","name":"database","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"app_engine_integration_mode":"DISABLED","cmek_config":[],"concurrency_mode":"PESSIMISTIC","create_time":"","delete_protection_state":"DELETE_PROTECTION_ENABLED","deletion_policy":"ABANDON","earliest_version_time":"2025-08-29T14:15:00Z","etag":"IIjk+qCosI8DMMe4kdOnsI8D","id":"projects/pack-1703-portal/databases/(default)","key_prefix":"","location_id":"nam5","name":"(default)","point_in_time_recovery_enablement":"POINT_IN_TIME_RECOVERY_ENABLED","project":"pack-1703-portal","timeouts":null,"type":"FIRESTORE_NATIVE","uid":"ab06631e-86ab-4218-ba0f-5d8143d6d7bb","update_time":"","version_retention_period":"604800s"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["google_project_service.required_apis"]}]},{"module":"module.firestore","mode":"managed","type":"google_firestore_index","name":"announcements_by_pinned_and_date","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"api_scope":"ANY_API","collection":"announcements","database":"(default)","fields":[{"array_config":"","field_path":"pinned","order":"DESCENDING","vector_config":[]},{"array_config":"","field_path":"createdAt","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"__name__","order":"ASCENDING","vector_config":[]}],"id":"projects/pack-1703-portal/databases/(default)/collectionGroups/announcements/indexes/CICAgNiroMEI","name":"projects/pack-1703-portal/databases/(default)/collectionGroups/announcements/indexes/CICAgNiroMEI","project":"pack-1703-portal","query_scope":"COLLECTION","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==","dependencies":["google_project_service.required_apis","module.firestore.google_firestore_database.database"]}]},{"module":"module.firestore","mode":"managed","type":"google_firestore_index","name":"events_by_category_and_date","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"api_scope":"ANY_API","collection":"events","database":"(default)","fields":[{"array_config":"","field_path":"category","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"start","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"__name__","order":"ASCENDING","vector_config":[]}],"id":"projects/pack-1703-portal/databases/(default)/collectionGroups/events/indexes/CICAgJiUpoMK","name":"projects/pack-1703-portal/databases/(default)/collectionGroups/events/indexes/CICAgJiUpoMK","project":"pack-1703-portal","query_scope":"COLLECTION","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjAifQ=="}]},{"module":"module.firestore","mode":"managed","type":"google_firestore_index","name":"events_by_season_and_date","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"api_scope":"ANY_API","collection":"events","database":"(default)","fields":[{"array_config":"","field_path":"seasonId","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"start","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"__name__","order":"ASCENDING","vector_config":[]}],"id":"projects/pack-1703-portal/databases/(default)/collectionGroups/events/indexes/CICAgOjXh4EK","name":"projects/pack-1703-portal/databases/(default)/collectionGroups/events/indexes/CICAgOjXh4EK","project":"pack-1703-portal","query_scope":"COLLECTION","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjAifQ=="}]},{"module":"module.firestore","mode":"managed","type":"google_firestore_index","name":"events_by_visibility_and_date","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"api_scope":"ANY_API","collection":"events","database":"(default)","fields":[{"array_config":"","field_path":"visibility","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"startDate","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"__name__","order":"ASCENDING","vector_config":[]}],"id":"projects/pack-1703-portal/databases/(default)/collectionGroups/events/indexes/CICAgJjF9oIK","name":"projects/pack-1703-portal/databases/(default)/collectionGroups/events/indexes/CICAgJjF9oIK","project":"pack-1703-portal","query_scope":"COLLECTION","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjAifQ=="}]},{"module":"module.firestore","mode":"managed","type":"google_firestore_index","name":"rsvps_by_event_and_timestamp","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"api_scope":"ANY_API","collection":"rsvps","database":"(default)","fields":[{"array_config":"","field_path":"eventId","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"submittedAt","order":"DESCENDING","vector_config":[]},{"array_config":"","field_path":"__name__","order":"ASCENDING","vector_config":[]}],"id":"projects/pack-1703-portal/databases/(default)/collectionGroups/rsvps/indexes/CICAgNiav4AL","name":"projects/pack-1703-portal/databases/(default)/collectionGroups/rsvps/indexes/CICAgNiav4AL","project":"pack-1703-portal","query_scope":"COLLECTION","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==","dependencies":["google_project_service.required_apis","module.firestore.google_firestore_database.database"]}]},{"module":"module.firestore","mode":"managed","type":"google_firestore_index","name":"volunteers_by_event_and_role","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"api_scope":"ANY_API","collection":"volunteers","database":"(default)","fields":[{"array_config":"","field_path":"eventId","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"role","order":"ASCENDING","vector_config":[]},{"array_config":"","field_path":"__name__","order":"ASCENDING","vector_config":[]}],"id":"projects/pack-1703-portal/databases/(default)/collectionGroups/volunteers/indexes/CICAgNjpgYIJ","name":"projects/pack-1703-portal/databases/(default)/collectionGroups/volunteers/indexes/CICAgNjpgYIJ","project":"pack-1703-portal","query_scope":"COLLECTION","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==","dependencies":["google_project_service.required_apis","module.firestore.google_firestore_database.database"]}]},{"module":"module.firestore","mode":"managed","type":"local_file","name":"firestore_rules","provider":"provider[\"registry.opentofu.org/hashicorp/local\"]","instances":[{"schema_version":0,"attributes":{"content":"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    \n    // Helper functions\n    function isAuthenticated() {\n      return request.auth != null;\n    }\n    \n    function isAdmin() {\n      return isAuthenticated() \u0026\u0026 \n             request.auth.token.get('role', '') == 'admin';\n    }\n    \n    function isValidTimestamp(timestamp) {\n      return timestamp is timestamp \u0026\u0026 \n             timestamp \u003e timestamp.value(2024, 1, 1) \u0026\u0026\n             timestamp \u003c timestamp.value(2030, 12, 31);\n    }\n    \n    function isValidString(str, maxLength) {\n      return str is string \u0026\u0026 \n             str.size() \u003e 0 \u0026\u0026 \n             str.size() \u003c= maxLength \u0026\u0026\n             !str.matches('.*\u003c[^\u003e]*\u003e.*'); // No HTML tags\n    }\n    \n    function isValidEmail(email) {\n      return email is string \u0026\u0026 \n             email.matches('^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$');\n    }\n\n    // Seasons - Public read, admin write\n    match /seasons/{seasonId} {\n      allow read: if true;\n      allow write: if isAdmin() \u0026\u0026\n                      isValidString(resource.data.name, 100) \u0026\u0026\n                      isValidTimestamp(resource.data.startDate) \u0026\u0026\n                      isValidTimestamp(resource.data.endDate) \u0026\u0026\n                      resource.data.startDate \u003c resource.data.endDate;\n    }\n\n    // Events - Public read (non-private), admin write\n    match /events/{eventId} {\n      allow read: if resource.data.visibility == 'public' || \n                     resource.data.visibility == 'link-only' ||\n                     isAdmin();\n      \n      allow write: if isAdmin() \u0026\u0026\n                      isValidString(resource.data.title, 200) \u0026\u0026\n                      isValidString(resource.data.description, 2000) \u0026\u0026\n                      isValidTimestamp(resource.data.startDate) \u0026\u0026\n                      isValidTimestamp(resource.data.endDate) \u0026\u0026\n                      resource.data.startDate \u003c resource.data.endDate \u0026\u0026\n                      resource.data.visibility in ['public', 'link-only', 'private'] \u0026\u0026\n                      resource.data.category in ['meeting', 'camping', 'service', 'social', 'training'] \u0026\u0026\n                      (resource.data.maxParticipants == null || resource.data.maxParticipants \u003e 0);\n    }\n\n    // Locations - Public read, admin write\n    match /locations/{locationId} {\n      allow read: if true;\n      allow write: if isAdmin() \u0026\u0026\n                      isValidString(resource.data.name, 200) \u0026\u0026\n                      isValidString(resource.data.address, 300) \u0026\u0026\n                      resource.data.coordinates.latitude \u003e= -90 \u0026\u0026\n                      resource.data.coordinates.latitude \u003c= 90 \u0026\u0026\n                      resource.data.coordinates.longitude \u003e= -180 \u0026\u0026\n                      resource.data.coordinates.longitude \u003c= 180;\n    }\n\n    // Announcements - Public read, admin write\n    match /announcements/{announcementId} {\n      allow read: if true;\n      allow write: if isAdmin() \u0026\u0026\n                      isValidString(resource.data.title, 200) \u0026\u0026\n                      isValidString(resource.data.content, 5000) \u0026\u0026\n                      isValidTimestamp(resource.data.createdAt) \u0026\u0026\n                      resource.data.pinned is bool;\n    }\n\n    // Lists (packing lists, etc.) - Public read, admin write\n    match /lists/{listId} {\n      allow read: if true;\n      allow write: if isAdmin() \u0026\u0026\n                      isValidString(resource.data.title, 200) \u0026\u0026\n                      resource.data.items is list \u0026\u0026\n                      resource.data.items.size() \u003c= 100;\n    }\n\n    // RSVPs - Write-only for public, read for admin\n    match /rsvps/{rsvpId} {\n      allow read: if isAdmin();\n      allow create: if !isAuthenticated() \u0026\u0026 // No auth required for RSVP\n                       isValidString(resource.data.contactName, 100) \u0026\u0026\n                       isValidEmail(resource.data.contactEmail) \u0026\u0026\n                       isValidString(resource.data.eventId, 50) \u0026\u0026\n                       resource.data.attendees is list \u0026\u0026\n                       resource.data.attendees.size() \u003e 0 \u0026\u0026\n                       resource.data.attendees.size() \u003c= 20 \u0026\u0026\n                       isValidTimestamp(resource.data.submittedAt) \u0026\u0026\n                       resource.data.ipHash is string \u0026\u0026\n                       resource.data.ipHash.size() == 64; // SHA-256 hash\n      allow update: if false; // RSVPs are immutable after creation\n    }\n\n    // Volunteers - Write-only for public, read for admin\n    match /volunteers/{volunteerId} {\n      allow read: if isAdmin();\n      allow create: if !isAuthenticated() \u0026\u0026 // No auth required for volunteering\n                       isValidString(resource.data.name, 100) \u0026\u0026\n                       isValidEmail(resource.data.email) \u0026\u0026\n                       isValidString(resource.data.phone, 20) \u0026\u0026\n                       isValidString(resource.data.eventId, 50) \u0026\u0026\n                       isValidString(resource.data.role, 100) \u0026\u0026\n                       isValidTimestamp(resource.data.submittedAt) \u0026\u0026\n                       resource.data.ipHash is string \u0026\u0026\n                       resource.data.ipHash.size() == 64;\n      allow update: if false; // Volunteer signups are immutable\n    }\n\n    // Feedback - Write-only for public, read for admin\n    match /feedback/{feedbackId} {\n      allow read: if isAdmin();\n      allow create: if !isAuthenticated() \u0026\u0026 // No auth required for feedback\n                       isValidString(resource.data.message, 2000) \u0026\u0026\n                       resource.data.type in ['general', 'bug', 'feature', 'complaint'] \u0026\u0026\n                       isValidTimestamp(resource.data.submittedAt) \u0026\u0026\n                       resource.data.ipHash is string \u0026\u0026\n                       resource.data.ipHash.size() == 64;\n      allow update: if false; // Feedback is immutable\n    }\n\n    // Admin audit logs - Admin read-only\n    match /admin/audit/{auditId} {\n      allow read: if isAdmin();\n      allow write: if false; // Audit logs are created by Cloud Functions only\n    }\n\n    // Admin user management - Admin only\n    match /admin/users/{userId} {\n      allow read, write: if isAdmin();\n    }\n\n    // System configuration - Admin only\n    match /system/{configId} {\n      allow read: if isAdmin();\n      allow write: if isAdmin() \u0026\u0026 \n                      request.auth.token.get('role', '') == 'super-admin';\n    }\n\n\n    // Deny all other access\n    match /{document=**} {\n      allow read, write: if false;\n    }\n  }\n}\n","content_base64":null,"content_base64sha256":"s9AWjbts1pWBpQRMSWMbBq7H6qIXwX+iHw5m0B0E8CE=","content_base64sha512":"kftDX/04lU/M3Rx+GCuW4HvtrGD6XGzFk6aONtaJ0KIUc3zOYsmfVidUrcKbOt9SGArdcj8cSwrt+1uAJXxoKQ==","content_md5":"c4f334fa2e6728ce4db394574c23e1df","content_sha1":"401c8c7da047d8017b7ac1c15aac92f201604404","content_sha256":"b3d0168dbb6cd69581a5044c49631b06aec7eaa217c17fa21f0e66d01d04f021","content_sha512":"91fb435ffd38954fccdd1c7e182b96e07bedac60fa5c6cc593a68e36d689d0a214737cce62c99f562754adc29b3adf52180add723f1c4b0aedfb5b80257c6829","directory_permission":"0777","file_permission":"0777","filename":"./firestore.rules","id":"401c8c7da047d8017b7ac1c15aac92f201604404","sensitive_content":null,"source":null},"sensitive_attributes":[[{"type":"get_attr","value":"sensitive_content"}]],"dependencies":["google_project_service.required_apis"]}]},{"module":"module.monitoring","mode":"data","type":"google_billing_account","name":"account","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"billing_account":"012FAF-804865-2CE73B","display_name":"Firebase Payment","id":"012FAF-804865-2CE73B","lookup_projects":true,"name":"billingAccounts/012FAF-804865-2CE73B","open":true,"project_ids":["pack-1703-portal"]},"sensitive_attributes":[]}]},{"module":"module.monitoring","mode":"data","type":"google_project","name":"current","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"auto_create_network":null,"billing_account":"012FAF-804865-2CE73B","deletion_policy":"DELETE","effective_labels":{"firebase":"enabled","firebase-core":"disabled"},"folder_id":null,"id":"projects/pack-1703-portal","labels":{"firebase":"enabled","firebase-core":"disabled"},"name":"pack-1703-portal","number":"1090892022787","org_id":null,"project_id":"pack-1703-portal","skip_delete":null,"terraform_labels":{"firebase":"enabled","firebase-core":"disabled"}},"sensitive_attributes":[]}]},{"module":"module.secrets","mode":"managed","type":"google_secret_manager_secret","name":"secrets","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[]},{"module":"module.secrets","mode":"managed","type":"google_secret_manager_secret_version","name":"secret_versions","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[]},{"module":"module.storage","mode":"managed","type":"google_storage_bucket","name":"backups","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":2,"attributes":{"autoclass":[],"cors":[],"custom_placement_config":[],"default_event_based_hold":false,"effective_labels":{"created_by":"pack1703-migration","environment":"prod","managed_by":"opentofu","project":"pack1703-rsvp","type":"backup"},"enable_object_retention":false,"encryption":[],"force_destroy":false,"id":"pack1703-rsvp-prod-backups","labels":{"created_by":"pack1703-migration","environment":"prod","managed_by":"opentofu","project":"pack1703-rsvp","type":"backup"},"lifecycle_rule":[{"action":[{"storage_class":"","type":"Delete"}],"condition":[{"age":90,"created_before":"","custom_time_before":"","days_since_custom_time":0,"days_since_noncurrent_time":0,"matches_prefix":[],"matches_storage_class":[],"matches_suffix":[],"no_age":false,"noncurrent_time_before":"","num_newer_versions":0,"send_age_if_zero":true,"send_days_since_custom_time_if_zero":false,"send_days_since_noncurrent_time_if_zero":false,"send_num_newer_versions_if_zero":false,"with_state":"ANY"}]}],"location":"US-CENTRAL1","logging":[],"name":"pack1703-rsvp-prod-backups","project":"pack-1703-portal","project_number":1090892022787,"public_access_prevention":"inherited","requester_pays":false,"retention_policy":[],"rpo":null,"self_link":"https://www.googleapis.com/storage/v1/b/pack1703-rsvp-prod-backups","soft_delete_policy":[{"effective_time":"2025-08-29T05:16:04.600Z","retention_duration_seconds":604800}],"storage_class":"COLDLINE","terraform_labels":{"created_by":"pack1703-migration","environment":"prod","managed_by":"opentofu","project":"pack1703-rsvp","type":"backup"},"timeouts":null,"uniform_bucket_level_access":false,"url":"gs://pack1703-rsvp-prod-backups","versioning":[{"enabled":true}],"website":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjI0MDAwMDAwMDAwMCwidXBkYXRlIjoyNDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["google_project_service.required_apis"]}]},{"module":"module.storage","mode":"managed","type":"google_storage_bucket","name":"uploads","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":2,"attributes":{"autoclass":[],"cors":[{"max_age_seconds":3600,"method":["GET","POST","PUT"],"origin":["https://sfpack1703.com",""],"response_header":["*"]}],"custom_placement_config":[],"default_event_based_hold":false,"effective_labels":{"created_by":"pack1703-migration","environment":"prod","managed_by":"opentofu","project":"pack1703-rsvp"},"enable_object_retention":false,"encryption":[],"force_destroy":false,"id":"pack1703-rsvp-prod-uploads","labels":{"created_by":"pack1703-migration","environment":"prod","managed_by":"opentofu","project":"pack1703-rsvp"},"lifecycle_rule":[{"action":[{"storage_class":"NEARLINE","type":"SetStorageClass"}],"condition":[{"age":30,"created_before":"","custom_time_before":"","days_since_custom_time":0,"days_since_noncurrent_time":0,"matches_prefix":[],"matches_storage_class":[],"matches_suffix":[],"no_age":false,"noncurrent_time_before":"","num_newer_versions":0,"send_age_if_zero":true,"send_days_since_custom_time_if_zero":false,"send_days_since_noncurrent_time_if_zero":false,"send_num_newer_versions_if_zero":false,"with_state":"ANY"}]}],"location":"US-CENTRAL1","logging":[],"name":"pack1703-rsvp-prod-uploads","project":"pack-1703-portal","project_number":1090892022787,"public_access_prevention":"inherited","requester_pays":false,"retention_policy":[],"rpo":null,"self_link":"https://www.googleapis.com/storage/v1/b/pack1703-rsvp-prod-uploads","soft_delete_policy":[{"effective_time":"2025-08-29T05:16:04.393Z","retention_duration_seconds":604800}],"storage_class":"STANDARD","terraform_labels":{"created_by":"pack1703-migration","environment":"prod","managed_by":"opentofu","project":"pack1703-rsvp"},"timeouts":null,"uniform_bucket_level_access":false,"url":"gs://pack1703-rsvp-prod-uploads","versioning":[{"enabled":true}],"website":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjI0MDAwMDAwMDAwMCwidXBkYXRlIjoyNDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["google_project_service.required_apis"]}]}],"check_results":null}
